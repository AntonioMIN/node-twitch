<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      Home - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
  

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li  class="active" >
        <a href="index.html">
          
          
            <svg fill="#0095dd" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      Node Twitch Reference
    </h3>

    

    <h3>Classes</h3><ul><li id="TwitchApi-nav"><a href="TwitchApi.html">TwitchApi</a><ul class='methods'><li data-type="method" id="TwitchApi-customRequest-nav"><a href="TwitchApi.html#~customRequest">customRequest</a></li><li data-type="method" id="TwitchApi-getBitsLeaderboard-nav"><a href="TwitchApi.html#~getBitsLeaderboard">getBitsLeaderboard</a></li><li data-type="method" id="TwitchApi-getCurrentUser-nav"><a href="TwitchApi.html#~getCurrentUser">getCurrentUser</a></li><li data-type="method" id="TwitchApi-getFollows-nav"><a href="TwitchApi.html#~getFollows">getFollows</a></li><li data-type="method" id="TwitchApi-getStreams-nav"><a href="TwitchApi.html#~getStreams">getStreams</a></li><li data-type="method" id="TwitchApi-getSubsById-nav"><a href="TwitchApi.html#~getSubsById">getSubsById</a></li><li data-type="method" id="TwitchApi-getUsers-nav"><a href="TwitchApi.html#~getUsers">getUsers</a></li><li data-type="method" id="TwitchApi-getUsersSubStatus-nav"><a href="TwitchApi.html#~getUsersSubStatus">getUsersSubStatus</a></li></ul></li></ul><h3 id="global-nav">Global</h3><ul><li><a href="global.html#getGames">getGames</a></li></ul>
  </nav>

  <div id="main">
    

    
      



    

      


  <section class="readme">
    <article>
      <h1>node-twitch</h1>
<p>This package aims to simplify calls to the Twitch api by making the endpoints available through simple method calls.</p>
<h3>Early version</h3>
<p>The aim of this package is to make all twitch endpoints available through method calls in a single class. So far, the supported endpoints are limited. Therefore, a <code>customRequest()</code> method has been added to the api class. It lets you call any endpoint on the Twitch api using the authentication information already provided. For more info on this see <a href="#unsupported-endpoints">Unsupported endpoints</a>.</p>
<h2>Installation</h2>
<p>To install simply do,</p>
<pre class="prettyprint source lang-bash"><code>npm install node-twitch
</code></pre>
<h2>Usage</h2>
<p>Before using this package, you will have to create an application on twitch to retrieve a <code>client_id</code> and <code>client_secret</code>. Use the <a href="https://dev.twitch.tv/docs/authentication/#registration">official documentation</a> as a guide.</p>
<p>Refer to the example below for a basic usage guide.</p>
<pre class="prettyprint source lang-js"><code>const TwitchApi = require(&quot;node-twitch&quot;);

// Create a new instance of the TwitchApi class and use an app access token to authenticate requests.
const api = new TwitchApi({
	client_id: &quot;YOUR TWITCH CLIENT ID&quot;,
	client_secret: &quot;YOUR CLIENT SECRET&quot;,
	isApp: true // When this option is enabled, an application token will be automatically acquired from twitch.
});

// Wait for the api to start.
api.on(&quot;ready&quot;, () => {
	// Set the options for the request.
	const options = {
		// Channels accepts a string or an array of strings representing either a user_id or a user's login name.
		channels: [&quot;lirik&quot;, &quot;shroud&quot;]
	}

	// Call the streams endpoint.
	// The callback contains a body and a response object.
	// The body is the result returned from twitch,
	// while the response contains the http request information.
	api.getStreams(options, (body, response) => {
		console.log(body.data[0].user_name); // Should print &quot;LIRIK&quot; if the stream is live.
	});
});
</code></pre>
<p>The example above has set the <code>isApp</code> option set to <code>true</code>, which means that the api will automatically request an application token from the twitch api using your <code>client_id</code> and <code>client_secret</code>. Using this option simplifies the setup process of the api, but it prevents you from accessing any non-public user data. If you need to access private user data, such as subscribers or a user's email, you will need to authenticate the user on the client side and send the <code>access_token</code> and <code>refresh_token</code> to the server. The process of retrieving these tokens are outside the scope of this package. Refer to the <a href="https://dev.twitch.tv/docs/authentication/">official documentation</a> on how to authenticate a user.</p>
<p>To use the <code>access_token</code> and <code>refresh_token</code>, refer to the following example:</p>
<pre class="prettyprint source lang-js"><code>const TwitchApi = require(&quot;node-twitch&quot;);

// Create a new instance of the TwitchApi class.
const api = new TwitchApi({
	client_id: &quot;YOUR TWITCH CLIENT ID&quot;,
	client_secret:  &quot;YOUR CLIENT SECRET&quot;,
	access_token: &quot;A USER'S ACCESS TOKEN&quot;,
	refresh_token: &quot;A USER'S REFRESH TOKEN&quot;
});

// Wait for the api to start.
api.on(&quot;ready&quot;, () => {
	api.getCurrentUser( (body, response) => {
		console.log(body.data[0].display_name); // Prints the currently authenticated user's display name.
	});
});
</code></pre>
<p>It's worth noting that it is not necessary to wait for the <code>ready</code> event when using this method of authentication. In this case the the only thing the <code>ready</code> event indicates is that you can access the <code>api.user</code> object, which makes it easier to read the current user's data.</p>
<h3>Async/Await</h3>
<p>In addition to the syntax above, this package also uses promises, which means that you can use a async/await syntax if you'd like. The example below does the same thing as the first example, but using an async/await syntax.</p>
<pre class="prettyprint source lang-js"><code>const TwitchApi = require(&quot;node-twitch&quot;);

// Create a new instance of the TwitchApi class and use an app access token to authenticate requests.
const api = new TwitchApi({
	client_id: &quot;YOUR TWITCH CLIENT ID&quot;,
	client_secret: &quot;YOUR CLIENT SECRET&quot;,
	isApp: true // When this option is enabled, an application token will be automatically acquired from twitch.
});

// Wait for the api to start.
api.on(&quot;ready&quot;, async () => { // Uses an async function!!
	// Set the options for the request.
	const options = {
		// Channels accepts a string or an array of strings representing either a user_id or a user's login name.
		channels: [&quot;lirik&quot;, &quot;shroud&quot;]
	}

	// Call the streams endpoint.
	// Uses async/await instead of a callback.
	// This method does not return the full response object.
	const streams = await api.getStreams(options);
	console.log(streams.data[0].user_name); // Should print &quot;LIRIK&quot; if the stream is live.
	
});
</code></pre>
<p>The biggest difference when using async/await is that the response object won't be available. Keep this in mind when deciding which syntax you'd like to use for your project.</p>
<h3>Unsupported endpoints</h3>
<p>If you wish to call an endpoint that is not yet supported by this package, refer to the following example:</p>
<pre class="prettyprint source lang-js"><code>const TwitchApi = require(&quot;node-twitch&quot;);

const api = new TwitchApi({
	client_id: &quot;YOUR TWITCH CLIENT ID&quot;,
	client_secret:  &quot;YOUR CLIENT SECRET&quot;,
	access_token: &quot;A USER'S ACCESS TOKEN&quot;,
	refresh_token: &quot;A USER'S REFRESH TOKEN&quot;
});

// A custom request to get videos from a user_id
api.customRequest(&quot;/videos?user_id=91919297&quot;, {method: &quot;GET&quot;}, body => {
	console.log(body.data); // Prints array of the specified user's videos.
});
</code></pre>
<p>For further information, read the documentation below.</p>
<h1>Documentation</h1>
<ul>
<li><a href="https://plazide.github.io/node-twitch/node-twitch/0.1.3/">Documentation</a></li>
</ul>
    </article>
  </section>


    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  

</body>
</html>