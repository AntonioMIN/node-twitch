<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>node-twitch</title>
	<meta name="description" content="Documentation for node-twitch">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">node-twitch</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>node-twitch</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#node-twitch" id="node-twitch" style="color: inherit; text-decoration: none;">
					<h1>node-twitch</h1>
				</a>
				<p>This package is a wrapper around the Twitch Helix API. It is written in Typescript and provides in-editor documentation for all methods and options. All methods are named after their endpoint names in the <a href="https://dev.twitch.tv/docs/api/reference">Twitch API Reference</a>.</p>
				<blockquote>
					<p><strong>NOTE</strong>: This package is still under development. All endpoints are not yet supported. See documentation for all supported endpoints.</p>
				</blockquote>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h2>Documentation</h2>
				</a>
				<p>To see and read about the methods provided by the package, please visit the <a href="https://plazide.github.io/node-twitch">documentation</a>.</p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>The package is available through NPM, which means you can choose to install it using either <code>npm</code> or <code>yarn</code></p>
				<p>NPM:</p>
				<pre><code class="language-sh">npm install node-twitch</code></pre>
				<p>Yarn:</p>
				<pre><code class="language-sh">yarn add node-twitch</code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>To start using the package, you need to import and initialize the API class. You need to provide it with your <code>client_id</code> and <code>client_secret</code> which you get from creating an application on the <a href="https://dev.twitch.tv/console">Twitch developers site</a>. </p>
				<p>Using Typescript or bundler:</p>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> TwitchApi <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;node-twitch&quot;</span>;

<span class="hljs-keyword">const</span> twitch = <span class="hljs-keyword">new</span> TwitchApi({
    <span class="hljs-attr">client_id</span>: <span class="hljs-string">&quot;YOUR_CLIENT_ID&quot;</span>,
    <span class="hljs-attr">client_secret</span>: <span class="hljs-string">&quot;YOUR_CLIENT_SECRET&quot;</span>
});</code></pre>
				<p>Using native NodeJS:</p>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> TwitchApi = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;node-twitch&quot;</span>).default;

<span class="hljs-keyword">const</span> twitch = <span class="hljs-keyword">new</span> TwitchApi({
    <span class="hljs-attr">client_id</span>: <span class="hljs-string">&quot;YOUR_CLIENT_ID&quot;</span>,
    <span class="hljs-attr">client_secret</span>: <span class="hljs-string">&quot;YOUR_CLIENT_SECRET&quot;</span>
});</code></pre>
				<p>This is the easiest way to get started with the package. Using this configuration, an app access token will be automatically fetched for you which will allow to call all public endpoints. </p>
				<a href="#with-an-authenticated-user" id="with-an-authenticated-user" style="color: inherit; text-decoration: none;">
					<h3>With an authenticated user</h3>
				</a>
				<p>If you need to access user data, you&#39;ll will have to provide an <code>access_token</code> which grants access for a user.</p>
				<p>To get this <code>access_token</code> you can follow one of the authentication flows on the <a href="https://dev.twitch.tv/docs/authentication/getting-tokens-oauth">Twitch documentation site</a>.</p>
				<blockquote>
					<p><strong>NOTE:</strong> It is recommended that you handle the authentication yourself. This package is made for use on the server, and authentication requires you to present a link on the client where users grant your app permissions.</p>
				</blockquote>
				<a href="#before-initialization" id="before-initialization" style="color: inherit; text-decoration: none;">
					<h4>Before initialization</h4>
				</a>
				<p>If you want, you can handle all of the authentication yourself and simply pass in an <code>access_token</code> when creating a new instance of <code>TwitchApi</code>. You should also pass in the scopes the <code>scopes</code> that are granted for the passed in <code>access_token</code>.</p>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> TwitchApi <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;node-twitch&quot;</span>;

<span class="hljs-keyword">const</span> twitch = <span class="hljs-keyword">new</span> TwitchApi({
  <span class="hljs-attr">client_id</span>: <span class="hljs-string">&quot;YOUR_CLIENT_ID&quot;</span>,
  <span class="hljs-attr">client_secret</span>: <span class="hljs-string">&quot;YOUR_CLIENT_SECRET&quot;</span>,
  <span class="hljs-attr">access_token</span>: <span class="hljs-string">&quot;USER_ACCESS_TOKEN&quot;</span>,
  <span class="hljs-attr">scopes</span>: [<span class="hljs-string">&quot;YOUR_SCOPES&quot;</span>]
});</code></pre>
				<a href="#after-initialization" id="after-initialization" style="color: inherit; text-decoration: none;">
					<h4>After initialization</h4>
				</a>
				<p>You can also get user access after creating an instance of <code>TwitchApi</code>. There are two important methods to help you with this.</p>
				<ol>
					<li><strong>generateAuthUrl</strong>. This method will generate the URL for your users to visit in order to grant permissions to your app. It will use the <code>client_id</code>, <code>client_secret</code>, and <code>scopes</code> passed to the constructor to generate the URL.</li>
					<li><strong>getUserAccess</strong>. This method will fetch the refresh and access tokens using the code returned from Twitch after a user visits the auth URL. This requires you to setup proper callback URLs.</li>
				</ol>
				<p>Read more about authentication on the <a href="https://dev.twitch.tv/docs/authentication">official Twitch documentation</a></p>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h3>Examples</h3>
				</a>
				<p>Here are a few examples of common use cases to get you started. The examples assume that you have created an instance of <code>TwitchApi</code> called <code>twitch</code>. See <a href="#usage">usage</a> on how to do this.</p>
				<a href="#getting-a-user39s-stream" id="getting-a-user39s-stream" style="color: inherit; text-decoration: none;">
					<h4>Getting a user&#39;s stream</h4>
				</a>
				<p>To get the stream information from a single user:</p>
				<pre><code class="language-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getStreams</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-keyword">const</span> streams = <span class="hljs-keyword">await</span> twitch.getStreams({ <span class="hljs-attr">channel</span>: <span class="hljs-string">&quot;sacriel&quot;</span> });
  <span class="hljs-built_in">console</span>.log(streams);
}

getStreams();</code></pre>
				<p>Provided that the stream is live, something like this will be logged:</p>
				<pre><code class="language-js">{
  <span class="hljs-attr">data</span>: [
    {
      <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;39800533772&#x27;</span>,
      <span class="hljs-attr">user_id</span>: <span class="hljs-string">&#x27;23735582&#x27;</span>,
      <span class="hljs-attr">user_name</span>: <span class="hljs-string">&#x27;Sacriel&#x27;</span>,
      <span class="hljs-attr">game_id</span>: <span class="hljs-string">&#x27;491931&#x27;</span>,
      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;live&#x27;</span>,
      <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Cheeky bit of Tarky, maybe PUBG later?&#x27;</span>,
      <span class="hljs-attr">viewer_count</span>: <span class="hljs-number">2013</span>,
      <span class="hljs-attr">started_at</span>: <span class="hljs-string">&#x27;2020-10-28T11:40:49Z&#x27;</span>,
      <span class="hljs-attr">language</span>: <span class="hljs-string">&#x27;en&#x27;</span>,
      <span class="hljs-attr">thumbnail_url</span>: <span class="hljs-string">&#x27;https://static-cdn.jtvnw.net/previews-ttv/live_user_sacriel-{width}x{height}.jpg&#x27;</span>,
      <span class="hljs-attr">tag_ids</span>: [<span class="hljs-built_in">Array</span>]
    }
  ],
  <span class="hljs-attr">pagination</span>: {}
}</code></pre>
				<a href="#getting-a-user39s-id" id="getting-a-user39s-id" style="color: inherit; text-decoration: none;">
					<h4>Getting a user&#39;s ID</h4>
				</a>
				<p>To get the ID of a user:</p>
				<pre><code class="language-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUserId</span>(<span class="hljs-params">loginName</span>)</span>{
  <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> twitch.getUsers(loginName);
  <span class="hljs-keyword">const</span> user = users.data[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> userId = user.id;

  <span class="hljs-built_in">console</span>.log(userId);
}

getUserId(<span class="hljs-string">&quot;sacriel&quot;</span>);</code></pre>
				<p>This would log:</p>
				<pre><code><span class="hljs-number">23735582</span></code></pre>
				<a href="#get-in-touch" id="get-in-touch" style="color: inherit; text-decoration: none;">
					<h2>Get in touch</h2>
				</a>
				<p>If you have any questions or just want to reach me, you can get in touch with me on Twitter(<a href="https://twitter.com/chj_web">@chj_web</a>)</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_events_.html">&quot;types/events&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_functions_.html">&quot;types/functions&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_objects_.html">&quot;types/objects&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_options_.html">&quot;types/options&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_responses_.html">&quot;types/responses&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_scopes_.html">&quot;types/scopes&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>